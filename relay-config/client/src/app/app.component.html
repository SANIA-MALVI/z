<mat-card disabled>
  <mat-card-header>
    <mat-card-title>Configuration </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="connectionConfig" class="connectionConfigForm">
      <mat-form-field>
        <mat-label for="ipaddress">IP Address</mat-label>
        <input matInput id="ipaddress" type="ipaddress" placeholder="xxx.xxx.xxx.xxx" formControlName="ipaddress">
        <div *ngIf="ipaddress.touched && ipaddress.errors">
          <p *ngIf="ipaddress.errors ['required']">IP Address is required</p>
          <p *ngIf="ipaddress.errors ['pattern']">Invalid IP Address</p>
        </div>
      </mat-form-field>
      <mat-form-field>
        <mat-label for="port">Port</mat-label>
        <input matInput id="port" type="text" placeholder="Port" formControlName="port">
        <div *ngIf="port.touched && port.errors">
          <p *ngIf="port.errors ['required']">Port is required</p>
          <p *ngIf="port.errors ['pattern']">Invalid Port</p>
          <p *ngIf="port.errors ['minlength']">Min 2 digit</p>
          <p *ngIf="port.errors ['maxlength']">Max 5 digit</p>
        </div>
      </mat-form-field>


      <button mat-raised-button [disabled]="isConnected" (click)="onOpenConnection()" color="primary">Connect</button>
      <button mat-raised-button [disabled]="!isConnected" (click)="onCloseConnection()"
        color="primary">Disconnect</button>
    </form>

  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-header>
    <mat-card-title>Relays Configurations </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="relayConfig" class="relayConfigForm">
      <div class="relayConfig">
        <mat-label>Relay #1 </mat-label>
        <mat-button-toggle-group formControlName="relay1">
          <mat-button-toggle value="on">ON</mat-button-toggle>
          <mat-button-toggle value="off">OFF</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-label>Relay #2 </mat-label>
        <mat-button-toggle-group formControlName="relay2">
          <mat-button-toggle value="on">ON</mat-button-toggle>
          <mat-button-toggle value="off">OFF</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-label>Relay #3 </mat-label>
        <mat-button-toggle-group formControlName="relay3">
          <mat-button-toggle value="on">ON</mat-button-toggle>
          <mat-button-toggle value="off">OFF</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-label>Relay #4 </mat-label>
        <mat-button-toggle-group formControlName="relay4">
          <mat-button-toggle value="on">ON</mat-button-toggle>
          <mat-button-toggle value="off">OFF</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <div>
        <button mat-raised-button [disabled]="!isConnected" (click)="onRelayConfig()" color="primary"
          class="relayConfigButton">Configure</button>
      </div>
    </form>

  </mat-card-content>
</mat-card>

<!-- scheduling-->

<mat-card>
  <mat-card-header>
    <mat-card-title>Scheduling</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="scheduling" class="schedulingForm">
<!--for relay1-->
<div formGroupName="relay1" class="relay-group">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Relay 1</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- First set of controls for relay1-->
      <div formGroupName="set1" class=" set-group">
        <mat-checkbox formControlName="isChecked"> </mat-checkbox>

        <mat-form-field>
          <input matInput placeholder="Time (HH:mm)" formControlName="time">
          <mat-error *ngIf="scheduling.get('set1.time')?.hasError('required')">Time is required</mat-error>
          <mat-error *ngIf="scheduling.get('set1.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
        </mat-form-field>

        <mat-button-toggle-group formControlName="state">
          <mat-button-toggle value="on">On</mat-button-toggle>
          <mat-button-toggle value="off">Off</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
<!-- Second set of controls for relay 1-->
<div formGroupName="set2" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set2.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set2.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>

<!-- Third set of controls for relay 1-->
<div formGroupName="set3" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set3.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set3.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>

<!-- Fourth set of controls for relay 1-->
<div formGroupName="set4" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set4.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set4.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>
</mat-card-content>
</mat-card>
</div>

<!--for relay2-->
<div formGroupName="relay2" class="relay-group">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Relay 2</mat-card-title>
    </mat-card-header>
    <mat-card-content>
<!-- First set of controls for relay2-->
<div formGroupName="set1" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>
<!-- Second set of controls for relay 2-->
<div formGroupName="set2" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Third set of controls for relay 2-->
<div formGroupName="set3" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Fourth set of controls for relay 2-->
<div formGroupName="set4" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>
</mat-card-content>
</mat-card>
</div>

<!--for relay3-->
<div formGroupName="relay3" class="relay-group">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Relay 3</mat-card-title>
    </mat-card-header>
    <mat-card-content>
<!-- First set of controls for relay3-->
<div formGroupName="set1" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>
<!-- Second set of controls for relay 3-->
<div formGroupName="set2" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Third set of controls for relay 3-->
<div formGroupName="set3" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Fourth set of controls for relay 3-->
<div formGroupName="set4" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>
</mat-card-content>
</mat-card>
</div>

<!--for relay4-->
<div formGroupName="relay4" class="relay-group">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Relay 4</mat-card-title>
    </mat-card-header>
    <mat-card-content>
<!-- First set of controls for relay1-->
<div formGroupName="set1" class=" set-group">
  <mat-checkbox formControlName="isChecked"> </mat-checkbox>

  <mat-form-field>
    <input matInput placeholder="Time (HH:mm)" formControlName="time">
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('required')">Time is required</mat-error>
    <mat-error *ngIf="scheduling.get('set1.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
  </mat-form-field>

  <mat-button-toggle-group formControlName="state">
    <mat-button-toggle value="on">On</mat-button-toggle>
    <mat-button-toggle value="off">Off</mat-button-toggle>
  </mat-button-toggle-group>
</div>
<!-- Second set of controls for relay 4-->
<div formGroupName="set2" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set2.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Third set of controls for relay 4-->
<div formGroupName="set3" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set3.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>

<!-- Fourth set of controls for relay 4-->
<div formGroupName="set4" class=" set-group">
<mat-checkbox formControlName="isChecked"> </mat-checkbox>

<mat-form-field>
<input matInput placeholder="Time (HH:mm)" formControlName="time">
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('required')">Time is required</mat-error>
<mat-error *ngIf="scheduling.get('set4.time')?.hasError('pattern')">Invalid time format (HH:mm)</mat-error>
</mat-form-field>

<mat-button-toggle-group formControlName="state">
<mat-button-toggle value="on">On</mat-button-toggle>
<mat-button-toggle value="off">Off</mat-button-toggle>
</mat-button-toggle-group>
</div>
</mat-card-content>
</mat-card>
</div>

</form>
  </mat-card-content>
</mat-card>